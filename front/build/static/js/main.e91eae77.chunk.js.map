{"version":3,"sources":["components/home/home.js","components/templates/modals/alert/alert.js","components/templates/modals/confirm/confirm.js","models/photos.js","components/users/users.js","models/http.js","models/students.js","components/students/students.js","models/subjects.js","components/subjects/subjects.js","libs/helpers.js","models/groups.js","models/dateTime.js","components/groups/groups.js","components/timeTable/timeTable.js","constants/constants.js","models/users.js","components/login/login.js","components/templates/header/header.js","components/main/main.js","index.js"],"names":["Home","react_default","a","createElement","React","Component","Alert","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","isOpen","message","toggle","bind","assertThisInitialized","e","arguments","length","undefined","setState","prevState","title","nextProps","reactstrap_es","className","color","onClick","confirm","Photos","url","Promise","resolve","reject","img","Image","crossOrigin","onload","dataURL","canvas","document","ctx","getContext","height","width","drawImage","toDataURL","onerror","src","file","reader","FileReader","target","result","readAsDataURL","Users","fields","users","userData","concat","reduce","obj","field","selectedUser","userForm","alert","action","passRetype","createRef","avatar","toggleForm","toggleAlert","toggleConfirm","editUser","addUser","deleteUser","getUsers","_this2","id","dataset","preventDefault","UsersModel","getUser","then","user","convertUrlToImage","_this3","collectData","_this4","_this5","err","console","error","_this6","_this7","userId","String","assign","_this8","Fragment","map","tag","href","key","data-id","name","surname","for","value","onChange","collectState","type","placeholder","email","react_input_mask_default","phone","mask","maskChar","username","password","innerRef","watchPassRetype","privilege","disabled","accept","changeAvatar","hidden","Boolean","ref","alt","saveChanges","alert_Alert","confirm_Alert","_this9","missedField","find","replace","l","toUpperCase","emailValidator","objectSpread","defineProperty","current","style","border","convertFileToImage","files","obj2query","data","params","URLSearchParams","hasOwnProperty","append","toString","Http","options","Error","method","request","body","headers","JSON","stringify","FormData","mode","modifyOptions","fetch","response","json","ok","Students","config","forEach","get","baseUrl","authHeader","isNaN","student","post","put","delete","students","studentData","selectedStudent","studentForm","filter","editStudent","addStudent","deleteStudent","getStudents","nextState","StudentsModel","getStudent","res","archived","Number","studentId","archiveStudent","studentStateAction","searchText","toLowerCase","startsWith","i","inline","STUDENTS_FILTERS","ACTIVE","ARCHIVED","PENDING","remark","_this10","Subjects","subject","subjects","subjectData","selectedSubject","subjectForm","editSubject","addSubject","deleteSubject","getSubjects","SubjectsModel","getSubject","subjectId","isTimeValid","time","_time$split","split","_time$split2","slicedToArray","hour","minute","test","compareTimes","first","second","substr","_first$split","_first$split2","firstHour","firstMinute","_second$split","_second$split2","secondHour","secondMinute","Groups","group","groups","groupData","selectedGroup","groupForm","weekDays","editGroup","addGroup","deleteGroup","selectStudent","selectDay","getGroups","init","all","DateModel","getWeekDays","_result","selected","day","startsAt","GroupsModel","getGroup","Array","isArray","some","days","groupId","parseInt","dayId","deselectStudent","defaultValue","element","startTimeElement","deselectDay","selectedStudents","selectedWeekDays","weekDay","TimeTable","groupsData","weekDayId","endsAt","getGroupsData","_response","copyObject","object","copied","changeState","bordered","arr","rowSpan","teacherRoutePaths","adminRoutes","path","component","teacherRoutes","route","Content-Type","getUserKey","localStorage","getItem","Authorization","setItem","token","removeItem","permission","ADMIN_PERMISSION","Login","redirect","checkUser","logIn","authUser","setUser","Redirect","to","onSubmit","onInput","required","Header","routes","isAdminAuthorized","nav","logOut","event","forgetUser","Link","includes","Main","window","location","pathname","renderMain","reactRoutes","Route","render","match","isExact","login_Login","header_Header","ReactDOM","BrowserRouter","main_Main","getElementById"],"mappings":"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","file":"static/js/main.e91eae77.chunk.js","sourcesContent":["import React from 'react';\nimport './home.css';\n\n\nexport default class Home extends React.Component {\n\trender() {\n\t\treturn <h1>Home page</h1>;\n\t}\n}","import React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default class Alert extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisOpen: props.isOpen || false,\n\t\t\tmessage: props.message || ''\n\t\t};\n\t\t\n\t\tthis.toggle = this.toggle.bind(this);\n\t}\n\t\n\ttoggle(e = null, message = '') {\n\t\tthis.setState((prevState) => ({\n\t\t\tisOpen: !prevState.isOpen,\n\t\t\tmessage: message\n\t\t}));\n\t\t\n\t\tif(typeof this.props.toggle === 'function') {\n\t\t\tthis.props.toggle(e, message, this.props.title);\n\t\t}\n\t}\n\t\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({\n\t\t\tisOpen: nextProps.isOpen || false,\n\t\t\tmessage: nextProps.message || ''\n\t\t});\n\t}\n\t\n\trender() {\n\t\treturn <Modal isOpen={this.state.isOpen} toggle={this.toggle} className={'modal-lg'}>\n\t\t\t<ModalHeader toggle={this.toggle}>{this.props.title || 'Title'}</ModalHeader>\n\t\t\t<ModalBody>\n\t\t\t\t<div className='h2 text-center'>{this.state.message}</div>\n\t\t\t</ModalBody>\n\t\t\t<ModalFooter>\n\t\t\t\t<Button color=\"secondary\" onClick={this.toggle}>Close</Button>\n\t\t\t</ModalFooter>\n\t\t</Modal>\n\t}\n}","import React from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nexport default class Alert extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisOpen: props.isOpen || false,\n\t\t\tmessage: props.message || ''\n\t\t};\n\t\t\n\t\tthis.toggle = this.toggle.bind(this);\n\t}\n\t\n\ttoggle(e = null, message = '') {\n\t\tthis.setState((prevState) => ({\n\t\t\tisOpen: !prevState.isOpen,\n\t\t\tmessage: message\n\t\t}));\n\t\t\n\t\tif(typeof this.props.toggle === 'function') {\n\t\t\tthis.props.toggle(e, message, this.props.title);\n\t\t}\n\t}\n\t\n\tcomponentWillReceiveProps(nextProps) {\n\t\tthis.setState({\n\t\t\tisOpen: nextProps.isOpen || false,\n\t\t\tmessage: nextProps.message || ''\n\t\t});\n\t}\n\t\n\trender() {\n\t\treturn <Modal isOpen={this.state.isOpen} toggle={this.toggle} className={'modal-lg'}>\n\t\t\t<ModalHeader toggle={this.toggle}>{this.props.title}</ModalHeader>\n\t\t\t<ModalBody>\n\t\t\t\t<div className='h2 text-center'>{this.state.message}</div>\n\t\t\t</ModalBody>\n\t\t\t<ModalFooter>\n\t\t\t\t<Button color=\"primary\" onClick={this.props.confirm}>Yes</Button>\n\t\t\t\t<Button color=\"secondary\" onClick={this.toggle}>No</Button>\n\t\t\t</ModalFooter>\n\t\t</Modal>\n\t}\n}","class Photos {\n\tstatic convertUrlToImage(url) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'Anonymous';\n\t\t\timg.onload = function() {\n\t\t\t\tlet canvas = document.createElement('CANVAS');\n\t\t\t\tlet ctx = canvas.getContext('2d');\n\t\t\t\tlet dataURL;\n\t\t\t\tcanvas.height = img.height;\n\t\t\t\tcanvas.width = img.width;\n\t\t\t\tctx.drawImage(img, 0, 0);\n\t\t\t\tdataURL = canvas.toDataURL();\n\t\t\t\tresolve(dataURL);\n\t\t\t};\n\t\t\timg.onerror = reject;\n\t\t\timg.src = url;\n\t\t});\n\t}\n\t\n\tstatic convertFileToImage(file) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet reader = new FileReader();\n\t\t\t\n\t\t\tif(!file) {\n\t\t\t\treject();\n\t\t\t}\n\t\t\t\n\t\t\treader.onload = (e) => {\n\t\t\t\tresolve(e.target.result);\n\t\t\t};\n\t\t\t\n\t\t\treader.readAsDataURL(file);\n\t\t});\n\t}\n}\n\nexport default Photos","import React from 'react';\nimport './users.css';\n// for modal\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n// for forms\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\n// for list\nimport { ListGroup, ListGroupItem } from 'reactstrap';\n\n// alert modal\nimport Alert from '../templates/modals/alert/alert';\n// confirm modal\nimport Confirm from '../templates/modals/confirm/confirm'\n\n//helpers\nimport InputMask from 'react-input-mask';\nimport * as emailValidator from 'email-validator';\n\n// Models\nimport UsersModel from \"../../models/users\";\nimport Photos from \"../../models/photos\"\n\nexport default class Users extends React.Component {\n\tfields = ['name', 'surname', 'email', 'phone', 'username', 'password', 'password-retype', 'privilege'];\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusers: [],\n\t\t\tuserData: this.fields.concat(['avatar']).reduce((obj, field) => (obj[field] = '',obj), {}),\n\t\t\tselectedUser: false,\n\t\t\tuserForm: false,\n\t\t\talert: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\ttitle: 'Warning'\n\t\t\t},\n\t\t\tconfirm: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\taction: '',\n\t\t\t\ttitle: 'Confirm'\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.passRetype = React.createRef();\n\t\tthis.avatar = React.createRef();\n\t\t\n\t\tthis.toggleForm = this.toggleForm.bind(this);\n\t\tthis.toggleAlert = this.toggleAlert.bind(this);\n\t\tthis.toggleConfirm = this.toggleConfirm.bind(this);\n\t\t\n\t\tthis.editUser = this.editUser.bind(this);\n\t\tthis.addUser = this.addUser.bind(this);\n\t\tthis.deleteUser = this.deleteUser.bind(this);\n\t\t\n\t\tthis.confirm = this.confirm.bind(this);\n\t\t\n\t\tthis.getUsers();\n\t}\n\t\n\teditUser(e) {\n\t\tconst id = e.target.dataset.id;\n\t\te.preventDefault();\n\t\t\n\t\tUsersModel.getUser(id).then(user => {\n\t\t\tPhotos.convertUrlToImage(user.avatar).then(img => {\n\t\t\t\tuser.avatar = img;\n\t\t\t}, () => {}).then(() => this.toggleForm(null, id, user));\n\t\t});\n\t}\n\t\n\tsaveChanges() {\n\t\tconst user = this.collectData();\n\t\t\n\t\tif(!user) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tUsersModel.editUser(this.state.selectedUser, user).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'User updated successfully', 'Congrats');\n\t\t\tthis.getUsers();\n\t\t});\n\t}\n\t\n\tdeleteUser() {\n\t\tUsersModel.deleteUser(this.state.selectedUser).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'User deleted successfully', 'Congrats');\n\t\t\tthis.getUsers();\n\t\t})\n\t}\n\t\n\taddUser() {\n\t\tconst user = this.collectData();\n\t\t\n\t\tif(!user) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tUsersModel.addUser(user).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'User created successfully', 'Congrats');\n\t\t\tthis.getUsers();\n\t\t}, err => console.error(err));\n\t}\n\t\n\tgetUsers() {\n\t\tUsersModel.getUsers().then(users => this.setState({users}));\n\t}\n\t\n\t// Toggle methods for modals\n\ttoggleForm(e = null, userId = null, userData = null) {\n\t\tthis.setState((prevState) => ({\n\t\t\tuserForm: !prevState.userForm,\n\t\t\tselectedUser: userId,\n\t\t\tuserData: this.fields.concat(['avatar']).reduce((obj, field) => ((obj[field] = obj[field] || obj[field] === 0 ? String(obj[field]) : ''),obj), userData || {})\n\t\t}));\n\t}\n\t\n\ttoggleAlert(e = null, message = '', title = this.state.alert.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\talert: Object.assign(prevState.alert, {\n\t\t\t\tisOpen: !prevState.alert.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\ttoggleConfirm(e = null, message = '', action = '', title = this.state.confirm.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\tconfirm: Object.assign(prevState.confirm, {\n\t\t\t\tisOpen: !prevState.confirm.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\taction: action,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\tconfirm() {\n\t\tswitch (this.state.confirm.action) {\n\t\t\tcase 'DELETE_USER':\n\t\t\t\tthis.deleteUser();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tthis.toggleConfirm();\n\t}\n\t\n\trender() {\n\t\treturn <React.Fragment>\n\t\t\t<Button className=\"add-button\" color=\"primary\" onClick={this.toggleForm}>Add new user</Button>\n\t\t\t<ListGroup className=\"users-list\">\n\t\t\t\t{this.state.users.map(user => <ListGroupItem onClick={this.editUser} tag=\"a\" href=\"#\" key={user.id} data-id={user.id}>{`${user.name} ${user.surname}`}</ListGroupItem>)}\n\t\t\t</ListGroup>\n\t\t\t\n\t\t\t<Modal isOpen={this.state.userForm} toggle={this.toggleForm} className={'modal-lg'}>\n\t\t\t\t<ModalHeader toggle={this.toggleForm}>User form</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"name\">Name</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData.name} onChange={e => this.collectState('name', e.target.value)} type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"surname\">Surname</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData.surname} onChange={e => this.collectState('surname', e.target.value)} type=\"text\" name=\"surname\" id=\"surname\" placeholder=\"Surname\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"email\">Email</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData.email} onChange={e => this.collectState('email', e.target.value)} type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"phone\">Phone</Label>\n\t\t\t\t\t\t\t<InputMask value={this.state.userData.phone} onChange={e => this.collectState('phone', e.target.value)} mask=\"099-99-99-99\" maskChar=\" \">\n\t\t\t\t\t\t\t\t{(props) => <Input {...props} type=\"text\" name=\"phone\" id=\"phone\" placeholder=\"Phone\" />}\n\t\t\t\t\t\t\t</InputMask>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"username\">Username</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData.username} onChange={e => {this.collectState('username', e.target.value)}} type=\"text\" name=\"username\" id=\"username\" placeholder=\"Username\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"password\">Password</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData.password} onChange={e => {this.collectState('password', e.target.value)}} type=\"password\" name=\"password\" id=\"password\" placeholder=\"Password\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"password-retype\">Confirm Password</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData['password-retype']} innerRef={this.passRetype} onChange={e => {this.watchPassRetype();this.collectState('password-retype', e.target.value);}} type=\"password\" name=\"password-retype\" id=\"password-retype\" placeholder=\"Confirm Password\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"privilege\">Privilege</Label>\n\t\t\t\t\t\t\t<Input value={this.state.userData.privilege} onChange={e => this.collectState('privilege', e.target.value)} type=\"select\" name=\"privilege\" id=\"privilege\">\n\t\t\t\t\t\t\t\t<option disabled value=''>Select privilege</option>\n\t\t\t\t\t\t\t\t<option value=\"0\">Teacher</option>\n\t\t\t\t\t\t\t\t<option value=\"1\">Administrator</option>\n\t\t\t\t\t\t\t</Input>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"avatar\">Avatar</Label>\n\t\t\t\t\t\t\t<Input accept=\"image/*\" onChange={e => Users.changeAvatar(e).then(img => this.collectState('avatar', img))} type=\"file\" name=\"avatar\" id=\"avatar\" />\n\t\t\t\t\t\t\t<div hidden={!Boolean(this.state.userData.avatar)}>\n\t\t\t\t\t\t\t\t<img src={this.state.userData.avatar} className={'img-fluid avatar'} ref={this.avatar} alt={'Avatar'} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Form>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button color=\"primary\" onClick={() => {this.state.selectedUser ? this.saveChanges() : this.addUser()}}>{this.state.selectedUser ? 'Save changes' : 'Add user'}</Button>{' '}\n\t\t\t\t\t{this.state.selectedUser && <Button color=\"danger\" onClick={(e) => {this.toggleConfirm(e, 'Are you sure you want to delete this user', 'DELETE_USER');}}>Delete</Button>}\n\t\t\t\t\t<Button color=\"secondary\" onClick={this.toggleForm}>Cancel</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</Modal>\n\t\t\t<Alert toggle={this.toggleAlert} isOpen={this.state.alert.isOpen} message={this.state.alert.message} title={this.state.alert.title} />\n\t\t\t<Confirm toggle={this.toggleConfirm} isOpen={this.state.confirm.isOpen} message={this.state.confirm.message} title={this.state.confirm.title} confirm={this.confirm} />\n\t\t</React.Fragment>\n\t}\n\t\n\tcollectData() {\n\t\tconst missedField = this.fields.find(field => !this.state.userData[field]);\n\t\t\n\t\tif(missedField) {\n\t\t\tthis.toggleAlert(null, `${missedField.replace(/^./, l => l.toUpperCase())} is required`);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!emailValidator.validate(String(this.state.userData.email))) {\n\t\t\tthis.toggleAlert(null, 'Invalid mail');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(this.state.userData.password !== this.state.userData['password-retype']) {\n\t\t\tthis.toggleAlert(null, 'Passwords don\\'t match');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet user = {...this.state.userData};\n\t\t\n\t\tdelete user.userForm;\n\t\tdelete user.alert;\n\t\tuser.avatar = user.avatar || null;\n\t\t\n\t\treturn user;\n\t}\n\t\n\tcollectState(key, value) {\n\t\tthis.setState((prevState) => ({\n\t\t\tuserData: Object.assign(prevState.userData, {[key]: value})\n\t\t}));\n\t}\n\t\n\twatchPassRetype() {\n\t\tthis.passRetype.current.style.border = this.passRetype.current.value !== this.state.userData.password ? '1px solid red' : 'initial';\n\t}\n\t\n\tstatic changeAvatar(e) {\n\t\treturn Photos.convertFileToImage(e.target.files[0]);\n\t}\n}","function obj2query(data) {\n\tlet params = new URLSearchParams();\n\t\n\t\n\tfor(let key in data) {\n\t\tif(data.hasOwnProperty(key)) {\n\t\t\tparams.append(key, data[key]);\n\t\t}\n\t}\n\t\n\treturn '?' + params.toString();\n}\n\nfunction modifyOptions(options) {\n\tlet url = options.url;\n\t\n\tif(typeof url !== 'string') {\n\t\tthrow new Error('Invalid url');\n\t}\n\t\n\tif(typeof options.params === 'object') {\n\t\turl += obj2query(options.params);\n\t\t\n\t\tdelete options.params;\n\t}\n\t\n\tif(typeof options.body === 'object') {\n\t\tif(typeof options.headers === 'object') {\n\t\t\tswitch (options.headers['Content-Type']) {\n\t\t\t\tdefault:\n\t\t\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t\t\tcase 'application/json':\n\t\t\t\t\toptions.body = JSON.stringify(options.body);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'multipart/form-data':\n\t\t\t\tcase 'application/x-www-form-urlencoded':\n\t\t\t\t\toptions.body = options.body instanceof FormData ? options.body : obj2query(options.body);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\toptions.headers['Content-Type'] = 'application/json';\n\t\t\toptions.body = JSON.stringify(options.body);\n\t\t}\n\t}\n\toptions.mode = options.mode || 'cors';\n\t\n\toptions.url = url;\n}\n\nexport default class Http{\n\tstatic get(options) {\n\t\tif(typeof options !== 'object') {\n\t\t\tthrow new Error('Invalid argument');\n\t\t}\n\t\t\n\t\toptions.method = 'GET';\n\t\t\n\t\treturn Http.request(options);\n\t}\n\t\n\tstatic post(options) {\n\t\tif(typeof options !== 'object') {\n\t\t\tthrow new Error('Invalid argument');\n\t\t}\n\t\t\n\t\toptions.method = 'POST';\n\t\t\n\t\treturn Http.request(options);\n\t}\n\t\n\tstatic put(options) {\n\t\tif(typeof options !== 'object') {\n\t\t\tthrow new Error('Invalid argument');\n\t\t}\n\t\t\n\t\toptions.method = 'PUT';\n\t\t\n\t\treturn Http.request(options);\n\t}\n\t\n\tstatic delete(options) {\n\t\tif(typeof options !== 'object') {\n\t\t\tthrow new Error('Invalid argument');\n\t\t}\n\t\t\n\t\toptions.method = 'DELETE';\n\t\t\n\t\treturn Http.request(options);\n\t}\n\t\n\tstatic request(options) {\n\t\tmodifyOptions(options);\n\t\tconst url = options.url;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tfetch(url, options).then(response => {\n\t\t\t\tresponse.json().then(data => {\n\t\t\t\t\tresponse.ok ? resolve(data) : reject(data)\n\t\t\t\t});\n\t\t\t}, error => {\n\t\t\t\treject(error);\n\t\t\t});\n\t\t});\n\t}\n}","import { baseUrl } from '../constants/constants';\nimport Http from './http';\n\nimport { authHeader } from \"./users\";\n\nexport default class Students {\n\tstatic getStudents(config) {\n\t\tif(!config || typeof config !== 'object') {\n\t\t\tconfig = {};\n\t\t}\n\t\t\n\t\tconst keys = ['limit', 'offset', 'filter'];\n\t\tlet data = {};\n\t\t\n\t\tkeys.forEach(key => {\n\t\t\tif(key in config) {\n\t\t\t\tdata[key] = config[key];\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/students`,\n\t\t\t\theaders: authHeader(),\n\t\t\t\tparams: data\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic getStudent(id) {\n\t\tif(isNaN(id)) {\n\t\t\treturn Promise.reject({\n\t\t\t\t'message': 'Invalid id'\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/students/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(student => resolve(student), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic addStudent(data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tHttp.post({\n\t\t\t\turl: `${baseUrl}/students`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic editStudent(id, data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.put({\n\t\t\t\turl: `${baseUrl}/students/${id}`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic deleteStudent(id) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.delete({\n\t\t\t\turl: `${baseUrl}/students/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n}","import React from 'react';\nimport './students.css';\n// for modal\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n// for forms\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\n// for list\nimport { ListGroup, ListGroupItem } from 'reactstrap';\n\n// constantcs\nimport { STUDENTS_FILTERS } from '../../constants/constants'\n\n// alert modal\nimport Alert from '../templates/modals/alert/alert';\n// confirm modal\nimport Confirm from '../templates/modals/confirm/confirm'\n\n//helpers\nimport InputMask from 'react-input-mask';\n\n// Models\nimport StudentsModel from \"../../models/students\";\n\nexport default class Students extends React.Component {\n\tfields = ['name', 'surname', 'remark', 'phone'];\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstudents: [],\n\t\t\tstudentData: this.fields.reduce((obj, field) => (obj[field] = '',obj), {}),\n\t\t\tselectedStudent: false,\n\t\t\tstudentForm: false,\n\t\t\talert: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\ttitle: 'Warning'\n\t\t\t},\n\t\t\tconfirm: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\taction: '',\n\t\t\t\ttitle: 'Confirm'\n\t\t\t},\n\t\t\tfilter: 0\n\t\t};\n\t\t\n\t\tthis.toggleForm = this.toggleForm.bind(this);\n\t\tthis.toggleAlert = this.toggleAlert.bind(this);\n\t\tthis.toggleConfirm = this.toggleConfirm.bind(this);\n\t\t\n\t\tthis.editStudent = this.editStudent.bind(this);\n\t\tthis.addStudent = this.addStudent.bind(this);\n\t\tthis.deleteStudent = this.deleteStudent.bind(this);\n\t\t\n\t\tthis.confirm = this.confirm.bind(this);\n\t\t\n\t\tthis.getStudents();\n\t}\n\t\n\tcomponentDidUpdate(nextProps, nextState) {\n\t\tif(this.state.filter !== nextState.filter) {\n\t\t\tthis.getStudents({\n\t\t\t\tfilter: nextState.filter\n\t\t\t});\n\t\t}\n\t}\n\t\n\teditStudent(e) {\n\t\tconst id = e.target.dataset.id;\n\t\te.preventDefault();\n\t\t\n\t\tStudentsModel.getStudent(id).then(student => {\n\t\t\tthis.toggleForm(null, id, student);\n\t\t});\n\t}\n\t\n\tsaveChanges() {\n\t\tconst student = this.collectData();\n\t\t\n\t\tif(!student) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tStudentsModel.editStudent(this.state.selectedStudent, student).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'Student updated successfully', 'Congrats');\n\t\t\tthis.getStudents();\n\t\t});\n\t}\n\t\n\tdeleteStudent() {\n\t\tStudentsModel.deleteStudent(this.state.selectedStudent).then((res) => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, res.message, 'Congrats');\n\t\t\tthis.getStudents();\n\t\t});\n\t}\n\t\n\tarchiveStudent() {\n\t\tconst student = this.collectData();\n\t\t\n\t\tif(!student) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tstudent.archived = Number(this.state.studentData.archived) ? 0 : 1;\n\t\t\n\t\tStudentsModel.editStudent(this.state.selectedStudent, student).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'Student deleted successfully', 'Congrats');\n\t\t\tthis.getStudents();\n\t\t});\n\t}\n\t\n\taddStudent() {\n\t\tconst student = this.collectData();\n\t\t\n\t\tif(!student) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tStudentsModel.addStudent(student).then((res) => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, res.message, 'Congrats');\n\t\t\tthis.getStudents();\n\t\t}, err => console.error(err));\n\t}\n\t\n\tgetStudents() {\n\t\tStudentsModel.getStudents({\n\t\t\tfilter: this.state.filter\n\t\t}).then(students => this.setState({students}));\n\t}\n\t\n\t// Toggle methods for modals\n\ttoggleForm(e = null, studentId = null, studentData = null) {\n\t\tthis.setState((prevState) => ({\n\t\t\tstudentForm: !prevState.studentForm,\n\t\t\tselectedStudent: studentId,\n\t\t\tstudentData: studentData || this.fields.reduce((obj, field) => (obj[field] = '',obj), {})\n\t\t}));\n\t}\n\t\n\ttoggleAlert(e = null, message = '', title = this.state.alert.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\talert: Object.assign(prevState.alert, {\n\t\t\t\tisOpen: !prevState.alert.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\ttoggleConfirm(e = null, message = '', action = '', title = this.state.confirm.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\tconfirm: Object.assign(prevState.confirm, {\n\t\t\t\tisOpen: !prevState.confirm.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\taction: action,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\tconfirm() {\n\t\tswitch (this.state.confirm.action) {\n\t\t\tcase 'DELETE_USER':\n\t\t\t\tthis.deleteStudent();\n\t\t\t\tbreak;\n\t\t\tcase 'ARCHIVE_USER':\n\t\t\t\tthis.archiveStudent();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tthis.toggleConfirm();\n\t}\n\t\n\trender() {\n\t\tconst studentStateAction = this.state.studentData.archived ? 'Activate' : 'Archive';\n\t\tconst students = this.state.students\n\t\t\t.filter(student => !this.state.searchText || student.name.toLowerCase().startsWith(this.state.searchText.toLowerCase()) || student.surname.toLowerCase().startsWith(this.state.searchText.toLowerCase()))\n\t\t\t.map((student, i) => (\n\t\t\t\t<ListGroupItem onClick={this.editStudent} tag=\"a\" href=\"#\" key={student.id} data-id={student.id}>{`${i + 1}. ${student.name} ${student.surname}`}</ListGroupItem>\n\t\t\t));\n\t\t\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Form inline>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Input value={this.state.filter} onChange={e => this.setState({ filter: Number(e.target.value) })} type=\"select\" name=\"surname\" id=\"surname\">\n\t\t\t\t\t\t\t<option value={STUDENTS_FILTERS.ACTIVE}>Active</option>\n\t\t\t\t\t\t\t<option value={STUDENTS_FILTERS.ARCHIVED}>Archived</option>\n\t\t\t\t\t\t\t<option value={STUDENTS_FILTERS.PENDING}>Pending</option>\n\t\t\t\t\t\t</Input>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t<Button className=\"add-button\" color=\"primary\" onClick={this.toggleForm}>Add new student</Button>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Form>\n\t\t\t\t<FormGroup className=\"search\">\n\t\t\t\t\t<Input value={this.state.searchText} onChange={e => this.setState({ searchText: e.target.value })} type=\"text\" placeholder=\"Search\"/>\n\t\t\t\t</FormGroup>\n\t\t\t\t<div className=\"rows-count\">\n\t\t\t\t\tStudents count {students.length}\n\t\t\t\t</div>\n\t\t\t\t<ListGroup className=\"students-list\">\n\t\t\t\t\t{students}\n\t\t\t\t</ListGroup>\n\t\t\t\t<Modal isOpen={this.state.studentForm} toggle={this.toggleForm} className={'modal-lg'}>\n\t\t\t\t\t<ModalHeader toggle={this.toggleForm}>Student form</ModalHeader>\n\t\t\t\t\t<ModalBody>\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label for=\"name\">Name</Label>\n\t\t\t\t\t\t\t\t<Input value={this.state.studentData.name} onChange={e => this.collectState('name', e.target.value)} type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\" />\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label for=\"surname\">Surname</Label>\n\t\t\t\t\t\t\t\t<Input value={this.state.studentData.surname} onChange={e => this.collectState('surname', e.target.value)} type=\"text\" name=\"surname\" id=\"surname\" placeholder=\"Surname\" />\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label for=\"remark\">Remark</Label>\n\t\t\t\t\t\t\t\t<Input value={this.state.studentData.remark} onChange={e => this.collectState('remark', e.target.value)} type=\"text\" name=\"remark\" id=\"remark\" placeholder=\"Remark\" />\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label for=\"phone\">Phone</Label>\n\t\t\t\t\t\t\t\t<InputMask value={this.state.studentData.phone} onChange={e => this.collectState('phone', e.target.value)} mask=\"099-99-99-99\" maskChar=\" \">\n\t\t\t\t\t\t\t\t\t{(props) => <Input {...props} type=\"text\" name=\"phone\" id=\"phone\" placeholder=\"Phone\" />}\n\t\t\t\t\t\t\t\t</InputMask>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t</ModalBody>\n\t\t\t\t\t<ModalFooter>\n\t\t\t\t\t\t<Button color=\"primary\" onClick={() => {this.state.selectedStudent ? this.saveChanges() : this.addStudent()}}>{this.state.selectedStudent ? 'Save changes' : 'Add student'}</Button>{' '}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.selectedStudent\n\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<Button color=\"warning\" onClick={(e) => {this.toggleConfirm(e, `Are you sure you want to ${studentStateAction.toLowerCase()} this student`, 'ARCHIVE_USER');}}>\n\t\t\t\t\t\t\t\t\t{studentStateAction}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button color=\"danger\" onClick={(e) => {this.toggleConfirm(e, 'Are you sure you want to delete this student', 'DELETE_USER');}}>Delete</Button>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Button color=\"secondary\" onClick={this.toggleForm}>Cancel</Button>\n\t\t\t\t\t</ModalFooter>\n\t\t\t\t</Modal>\n\t\t\t\t<Alert toggle={this.toggleAlert} isOpen={this.state.alert.isOpen} message={this.state.alert.message} title={this.state.alert.title} />\n\t\t\t\t<Confirm toggle={this.toggleConfirm} isOpen={this.state.confirm.isOpen} message={this.state.confirm.message} title={this.state.confirm.title} confirm={this.confirm} />\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n\t\n\tcollectData() {\n\t\tconst missedField = this.fields.find(field => field !== 'remark' && !this.state.studentData[field]);\n\t\t\n\t\tif(missedField) {\n\t\t\tthis.toggleAlert(null, `${missedField.replace(/^./, l => l.toUpperCase())} is required`);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\treturn {\n\t\t\t...this.state.studentData,\n\t\t\tremark: this.state.studentData.remark || ''\n\t\t};\n\t}\n\t\n\tcollectState(key, value) {\n\t\tthis.setState((prevState) => ({\n\t\t\tstudentData: Object.assign(prevState.studentData, {[key]: value})\n\t\t}));\n\t}\n}","import { baseUrl } from '../constants/constants';\nimport Http from './http';\n\nimport { authHeader } from \"./users\";\n\nexport default class Subjects {\n\tstatic getSubjects(config) {\n\t\tif(!config || typeof config !== 'object') {\n\t\t\tconfig = {};\n\t\t}\n\t\t\n\t\tconst keys = ['limit', 'offset'];\n\t\tlet data = {};\n\t\t\n\t\tkeys.forEach(key => {\n\t\t\tif(key in config) {\n\t\t\t\tdata[key] = config[key];\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/subjects`,\n\t\t\t\theaders: authHeader(),\n\t\t\t\tparams: data\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic getSubject(id) {\n\t\tif(isNaN(id)) {\n\t\t\treturn Promise.reject({\n\t\t\t\t'message': 'Invalid id'\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/subjects/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(subject => resolve(subject), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic addSubject(data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tHttp.post({\n\t\t\t\turl: `${baseUrl}/subjects`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic editSubject(id, data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.put({\n\t\t\t\turl: `${baseUrl}/subjects/${id}`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic deleteSubject(id) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.delete({\n\t\t\t\turl: `${baseUrl}/subjects/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n}","import React from 'react';\nimport './subjects.css';\n// for modal\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n// for forms\nimport { Form, FormGroup, Label, Input } from 'reactstrap';\n// for list\nimport { ListGroup, ListGroupItem } from 'reactstrap';\n\n// alert modal\nimport Alert from '../templates/modals/alert/alert';\n// confirm modal\nimport Confirm from '../templates/modals/confirm/confirm'\n\n// Models\nimport SubjectsModel from \"../../models/subjects\";\n\nexport default class Subjects extends React.Component {\n\tfields = ['name'];\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsubjects: [],\n\t\t\tsubjectData: this.fields.reduce((obj, field) => (obj[field] = '',obj), {}),\n\t\t\tselectedSubject: false,\n\t\t\tsubjectForm: false,\n\t\t\talert: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\ttitle: 'Warning'\n\t\t\t},\n\t\t\tconfirm: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\taction: '',\n\t\t\t\ttitle: 'Confirm'\n\t\t\t}\n\t\t};\n\t\t\n\t\tthis.toggleForm = this.toggleForm.bind(this);\n\t\tthis.toggleAlert = this.toggleAlert.bind(this);\n\t\tthis.toggleConfirm = this.toggleConfirm.bind(this);\n\t\t\n\t\tthis.editSubject = this.editSubject.bind(this);\n\t\tthis.addSubject = this.addSubject.bind(this);\n\t\tthis.deleteSubject = this.deleteSubject.bind(this);\n\t\t\n\t\tthis.confirm = this.confirm.bind(this);\n\t\t\n\t\tthis.getSubjects();\n\t}\n\t\n\teditSubject(e) {\n\t\tconst id = e.target.dataset.id;\n\t\te.preventDefault();\n\t\t\n\t\tSubjectsModel.getSubject(id).then(subject => {\n\t\t\tthis.toggleForm(null, id, subject);\n\t\t});\n\t}\n\t\n\tsaveChanges() {\n\t\tconst subject = this.collectData();\n\t\t\n\t\tif(!subject) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tSubjectsModel.editSubject(this.state.selectedSubject, subject).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'Subject updated successfully', 'Congrats');\n\t\t\tthis.getSubjects();\n\t\t});\n\t}\n\t\n\tdeleteSubject() {\n\t\tSubjectsModel.deleteSubject(this.state.selectedSubject).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'Subject deleted successfully', 'Congrats');\n\t\t\tthis.getSubjects();\n\t\t})\n\t}\n\t\n\taddSubject() {\n\t\tconst subject = this.collectData();\n\t\t\n\t\tif(!subject) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tSubjectsModel.addSubject(subject).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'Subject created successfully', 'Congrats');\n\t\t\tthis.getSubjects();\n\t\t}, err => console.error(err));\n\t}\n\t\n\tgetSubjects() {\n\t\tSubjectsModel.getSubjects().then(subjects => this.setState({subjects}));\n\t}\n\t\n\t// Toggle methods for modals\n\ttoggleForm(e = null, subjectId = null, subjectData = null) {\n\t\tthis.setState((prevState) => ({\n\t\t\tsubjectForm: !prevState.subjectForm,\n\t\t\tselectedSubject: subjectId,\n\t\t\tsubjectData: subjectData || this.fields.reduce((obj, field) => (obj[field] = '',obj), {})\n\t\t}));\n\t}\n\t\n\ttoggleAlert(e = null, message = '', title = this.state.alert.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\talert: Object.assign(prevState.alert, {\n\t\t\t\tisOpen: !prevState.alert.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\ttoggleConfirm(e = null, message = '', action = '', title = this.state.confirm.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\tconfirm: Object.assign(prevState.confirm, {\n\t\t\t\tisOpen: !prevState.confirm.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\taction: action,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\tconfirm() {\n\t\tswitch (this.state.confirm.action) {\n\t\t\tcase 'DELETE_USER':\n\t\t\t\tthis.deleteSubject();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tthis.toggleConfirm();\n\t}\n\t\n\trender() {\n\t\treturn <React.Fragment>\n\t\t\t<Button className=\"add-button\" color=\"primary\" onClick={this.toggleForm}>Add new subject</Button>\n\t\t\t<div className=\"rows-count\">\n\t\t\t\tSubjects count {this.state.subjects.length}\n\t\t\t</div>\n\t\t\t<ListGroup className=\"subjects-list\">\n\t\t\t\t{this.state.subjects.map((subject, i) => <ListGroupItem onClick={this.editSubject} tag=\"a\" href=\"#\" key={subject.id} data-id={subject.id}>{`${i + 1}. ${subject.name}`}</ListGroupItem>)}\n\t\t\t</ListGroup>\n\t\t\t\n\t\t\t<Modal isOpen={this.state.subjectForm} toggle={this.toggleForm} className={'modal-lg'}>\n\t\t\t\t<ModalHeader toggle={this.toggleForm}>Subject form</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"name\">Name</Label>\n\t\t\t\t\t\t\t<Input value={this.state.subjectData.name} onChange={e => this.collectState('name', e.target.value)} type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t</Form>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button color=\"primary\" onClick={() => {this.state.selectedSubject ? this.saveChanges() : this.addSubject()}}>{this.state.selectedSubject ? 'Save changes' : 'Add subject'}</Button>{' '}\n\t\t\t\t\t{this.state.selectedSubject && <Button color=\"danger\" onClick={(e) => {this.toggleConfirm(e, 'Are you sure you want to delete this subject', 'DELETE_USER');}}>Delete</Button>}\n\t\t\t\t\t<Button color=\"secondary\" onClick={this.toggleForm}>Cancel</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</Modal>\n\t\t\t<Alert toggle={this.toggleAlert} isOpen={this.state.alert.isOpen} message={this.state.alert.message} title={this.state.alert.title} />\n\t\t\t<Confirm toggle={this.toggleConfirm} isOpen={this.state.confirm.isOpen} message={this.state.confirm.message} title={this.state.confirm.title} confirm={this.confirm} />\n\t\t</React.Fragment>\n\t}\n\t\n\tcollectData() {\n\t\tconst missedField = this.fields.find(field => !this.state.subjectData[field]);\n\t\t\n\t\tif(missedField) {\n\t\t\tthis.toggleAlert(null, `${missedField.replace(/^./, l => l.toUpperCase())} is required`);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\treturn {...this.state.subjectData};\n\t}\n\t\n\tcollectState(key, value) {\n\t\tthis.setState((prevState) => ({\n\t\t\tsubjectData: Object.assign(prevState.subjectData, {[key]: value})\n\t\t}));\n\t}\n}","export function isTimeValid(time) {\n\tconst [hour, minute] = time.split(':');\n\t\n\treturn !/\\D/.test(hour + minute) && Number(hour) < 24 && Number(minute) < 60;\n}\n\nexport function copyObject(object) {\n\tif(!object || typeof object !== 'object') {\n\t\treturn object;\n\t}\n\t\n\tlet copied = Array.isArray(object) ? [] : {};\n\t\n\tfor(let key in object) {\n\t\tif(typeof object[key] === 'object' && object[key] !== null) {\n\t\t\tcopied[key] = copyObject(object[key]);\n\t\t} else {\n\t\t\tcopied[key] = object[key];\n\t\t}\n\t}\n\t\n\treturn copied;\n}\n\nexport function compareTimes(first, second) {\n\tif(first.substr(0, 5) === second.substr(0, 5)) {\n\t\treturn 0;\n\t}\n\t\n\tlet [firstHour, firstMinute] = first.split(':');\n\tlet [secondHour, secondMinute] = second.split(':');\n\t\n\tfirstHour = Number(firstHour);\n\tfirstMinute = Number(firstMinute);\n\tsecondHour = Number(secondHour);\n\tsecondMinute = Number(secondMinute);\n\t\n\treturn firstHour > secondHour || (firstHour === secondHour && firstMinute > secondMinute) ? 1 : -1;\n}","import { baseUrl } from '../constants/constants';\nimport Http from './http';\n\nimport { authHeader } from \"./users\";\n\nexport default class Groups {\n\tstatic getGroups(config) {\n\t\tif(!config || typeof config !== 'object') {\n\t\t\tconfig = {};\n\t\t}\n\t\t\n\t\tconst keys = ['limit', 'offset'];\n\t\tlet data = {};\n\t\t\n\t\tkeys.forEach(key => {\n\t\t\tif(key in config) {\n\t\t\t\tdata[key] = config[key];\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/groups`,\n\t\t\t\theaders: authHeader(),\n\t\t\t\tparams: data\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic getGroup(id) {\n\t\tif(isNaN(id)) {\n\t\t\treturn Promise.reject({\n\t\t\t\t'message': 'Invalid id'\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/groups/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(group => resolve(group), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic addGroup(data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tHttp.post({\n\t\t\t\turl: `${baseUrl}/groups`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic editGroup(id, data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.put({\n\t\t\t\turl: `${baseUrl}/groups/${id}`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic deleteGroup(id) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.delete({\n\t\t\t\turl: `${baseUrl}/groups/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic getGroupsData() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/groups/all`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n}","import { baseUrl } from '../constants/constants';\nimport Http from './http';\n\nimport { authHeader } from \"./users\";\n\nexport default class Groups {\n\tstatic getWeekDays() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/date/weekDays`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n}","import React from 'react';\nimport './groups.css';\n// for modal\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n// for forms\nimport { Form, FormGroup, Label, Input, Badge } from 'reactstrap';\n// for list\nimport { ListGroup, ListGroupItem } from 'reactstrap';\n\n// alert modal\nimport Alert from '../templates/modals/alert/alert';\n// confirm modal\nimport Confirm from '../templates/modals/confirm/confirm'\n\n//helpers\nimport InputMask from 'react-input-mask';\nimport { isTimeValid } from \"../../libs/helpers\";\n\n// Models\nimport GroupsModel from \"../../models/groups\";\nimport UsersModel from '../../models/users';\nimport SubjectsModel from '../../models/subjects';\nimport StudentsModel from '../../models/students';\nimport DateModel from '../../models/dateTime';\n\nconst DEFAULT_START_TIME = '09:00';\n\nexport default class Groups extends React.Component {\n\tfields = ['name', 'userId', 'subjectId', 'studentId', 'dayId'];\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tgroups: [],\n\t\t\tgroupData: this.fields.reduce((obj, field) => (obj[field] = '',obj), {}),\n\t\t\tselectedGroup: false,\n\t\t\tgroupForm: false,\n\t\t\talert: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\ttitle: 'Warning'\n\t\t\t},\n\t\t\tconfirm: {\n\t\t\t\tisOpen: false,\n\t\t\t\tmessage: '',\n\t\t\t\taction: '',\n\t\t\t\ttitle: 'Confirm'\n\t\t\t},\n\t\t\tstudents: [],\n\t\t\tusers: [],\n\t\t\tsubjects: [],\n\t\t\tweekDays: []\n\t\t};\n\t\t\n\t\tthis.toggleForm = this.toggleForm.bind(this);\n\t\tthis.toggleAlert = this.toggleAlert.bind(this);\n\t\tthis.toggleConfirm = this.toggleConfirm.bind(this);\n\t\t\n\t\tthis.editGroup = this.editGroup.bind(this);\n\t\tthis.addGroup = this.addGroup.bind(this);\n\t\tthis.deleteGroup = this.deleteGroup.bind(this);\n\t\t\n\t\tthis.confirm = this.confirm.bind(this);\n\t\tthis.selectStudent = this.selectStudent.bind(this);\n\t\tthis.selectDay = this.selectDay.bind(this);\n\t\t\n\t\tthis.getGroups();\n\t\tthis.init();\n\t}\n\t\n\tinit() {\n\t\tPromise.all([UsersModel.getUsers(), SubjectsModel.getSubjects(), StudentsModel.getStudents(), DateModel.getWeekDays()]).then(result => {\n\t\t\tlet [users, subjects, students, weekDays] = result;\n\t\t\t\n\t\t\tstudents.forEach(student => student.selected = false);\n\t\t\tweekDays.forEach(day => {\n\t\t\t\tday.selected = false;\n\t\t\t\tday.startsAt = DEFAULT_START_TIME;\n\t\t\t});\n\t\t\t\n\t\t\tthis.setState({\n\t\t\t\tusers, subjects, students, weekDays\n\t\t\t});\n\t\t});\n\t}\n\t\n\teditGroup(e) {\n\t\tconst id = e.target.dataset.id;\n\t\te.preventDefault();\n\t\t\n\t\tGroupsModel.getGroup(id).then(group => {\n\t\t\tif(Array.isArray(group.students)) {\n\t\t\t\tthis.state.students.forEach(student => {\n\t\t\t\t\tif(group.students.some(id => id === student.id)) {\n\t\t\t\t\t\tstudent.selected = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tif(Array.isArray(group.days)) {\n\t\t\t\tthis.state.weekDays.forEach(day => {\n\t\t\t\t\tlet data;\n\t\t\t\t\tif(data = group.days.find(data => data.id === day.id)) {\n\t\t\t\t\t\tday.selected = true;\n\t\t\t\t\t\tday.startsAt = data.startsAt;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.toggleForm(null, id, group);\n\t\t});\n\t}\n\t\n\tsaveChanges() {\n\t\tconst group = this.collectData();\n\t\t\n\t\tif(!group) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tGroupsModel.editGroup(this.state.selectedGroup, group).then((res) => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, res.message, 'Congrats');\n\t\t\tthis.getGroups();\n\t\t}, error => this.toggleAlert(null, error.message, 'Warning'));\n\t}\n\t\n\tdeleteGroup() {\n\t\tGroupsModel.deleteGroup(this.state.selectedGroup).then(() => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, 'Group deleted successfully', 'Congrats');\n\t\t\tthis.getGroups();\n\t\t})\n\t}\n\t\n\taddGroup() {\n\t\tconst group = this.collectData();\n\t\t\n\t\tif(!group) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tGroupsModel.addGroup(group).then(res => {\n\t\t\tthis.toggleForm();\n\t\t\tthis.toggleAlert(null, res.message, 'Congrats');\n\t\t\tthis.getGroups();\n\t\t}, err => this.toggleAlert(null, err.message, 'Warning'));\n\t}\n\t\n\tgetGroups() {\n\t\tGroupsModel.getGroups().then(groups => this.setState({groups}));\n\t}\n\t\n\t// Toggle methods for modals\n\ttoggleForm(e = null, groupId = null, groupData = null) {\n\t\tthis.setState((prevState) => ({\n\t\t\tgroupForm: !prevState.groupForm,\n\t\t\tselectedGroup: groupId,\n\t\t\tgroupData: groupData ? Object.assign(prevState.groupData, groupData) : this.fields.reduce((obj, field) => (obj[field] = '',obj), {}),\n\t\t\tstudents: prevState.groupForm ? prevState.students.map(student => (student.selected = false,student)) : prevState.students,\n\t\t\tweekDays: prevState.groupForm ? prevState.weekDays.map(day => (day.selected = false,day.startsAt = DEFAULT_START_TIME,day)) : prevState.weekDays\n\t\t}));\n\t}\n\t\n\ttoggleAlert(e = null, message = '', title = this.state.alert.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\talert: Object.assign(prevState.alert, {\n\t\t\t\tisOpen: !prevState.alert.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\ttoggleConfirm(e = null, message = '', action = '', title = this.state.confirm.title) {\n\t\tthis.setState((prevState) => ({\n\t\t\tconfirm: Object.assign(prevState.confirm, {\n\t\t\t\tisOpen: !prevState.confirm.isOpen,\n\t\t\t\tmessage: message,\n\t\t\t\taction: action,\n\t\t\t\ttitle: title\n\t\t\t})\n\t\t}));\n\t}\n\t\n\tconfirm() {\n\t\tswitch (this.state.confirm.action) {\n\t\t\tcase 'DELETE_USER':\n\t\t\t\tthis.deleteGroup();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tthis.toggleConfirm();\n\t}\n\t\n\tselectStudent() {\n\t\tthis.setState((prevState) => {\n\t\t\tconst students = prevState.students.map(student => {\n\t\t\t\tif(student.id === parseInt(prevState.groupData.studentId, 10)) {\n\t\t\t\t\tstudent.selected = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn student;\n\t\t\t});\n\t\t\t\n\t\t\treturn {\n\t\t\t\tstudents,\n\t\t\t\tgroupData: Object.assign(prevState.groupData, { studentId: ''})\n\t\t\t};\n\t\t});\n\t}\n\t\n\tselectDay() {\n\t\tthis.setState((prevState) => {\n\t\t\tconst days = prevState.weekDays.map(day => {\n\t\t\t\tif(day.id === parseInt(prevState.groupData.dayId, 10)) {\n\t\t\t\t\tday.selected = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn day;\n\t\t\t});\n\t\t\t\n\t\t\treturn {\n\t\t\t\tdays,\n\t\t\t\tgroupData: Object.assign(prevState.groupData, { dayId: ''})\n\t\t\t};\n\t\t});\n\t}\n\t\n\tdeselectStudent(id) {\n\t\tthis.setState((prevState) => {\n\t\t\tconst students = prevState.students.map(student => {\n\t\t\t\tif(student.id === id) {\n\t\t\t\t\tstudent.selected = false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn student;\n\t\t\t});\n\t\t\t\n\t\t\treturn {\n\t\t\t\tstudents\n\t\t\t};\n\t\t});\n\t}\n\t\n\tdeselectDay(id) {\n\t\tthis.setState((prevState) => {\n\t\t\tconst days = prevState.weekDays.map(day => {\n\t\t\t\tif(day.id === id) {\n\t\t\t\t\tday.selected = false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn day;\n\t\t\t});\n\t\t\t\n\t\t\treturn {\n\t\t\t\tdays\n\t\t\t};\n\t\t});\n\t}\n\t\n\trender() {\n\t\treturn <React.Fragment>\n\t\t\t<Button className=\"add-button\" color=\"primary\" onClick={this.toggleForm}>Add new group</Button>\n\t\t\t<div className=\"rows-count\">\n\t\t\t\tGroups count {this.state.groups.length}\n\t\t\t</div>\n\t\t\t<ListGroup className=\"groups-list\">\n\t\t\t\t{this.state.groups.map((group, i) => <ListGroupItem onClick={this.editGroup} tag=\"a\" href=\"#\" key={group.id} data-id={group.id}>{`${i + 1}. ${group.name}`}</ListGroupItem>)}\n\t\t\t</ListGroup>\n\t\t\t\n\t\t\t<Modal isOpen={this.state.groupForm} toggle={this.toggleForm} className={'modal-lg'}>\n\t\t\t\t<ModalHeader toggle={this.toggleForm}>Group form</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"name\">Name</Label>\n\t\t\t\t\t\t\t<Input value={this.state.groupData.name} onChange={e => this.collectState('name', e.target.value)} type=\"text\" name=\"name\" id=\"name\" placeholder=\"Name\" />\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"userId\">Teacher</Label>\n\t\t\t\t\t\t\t<Input value={this.state.groupData.userId} onChange={e => this.collectState('userId', e.target.value)} type=\"select\" name=\"userId\" id=\"userId\" placeholder=\"Teacher\">\n\t\t\t\t\t\t\t\t<option value=\"\" disabled>Select teacher</option>\n\t\t\t\t\t\t\t\t{this.state.users.map(user => <option key={user.id} value={user.id}>{user.name + ' ' + user.surname}</option>)}\n\t\t\t\t\t\t\t</Input>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<Label for=\"subjectId\">Subject</Label>\n\t\t\t\t\t\t\t<Input value={this.state.groupData.subjectId} onChange={e => this.collectState('subjectId', e.target.value)} type=\"select\" name=\"subjectId\" id=\"subjectId\" placeholder=\"Subject\">\n\t\t\t\t\t\t\t\t<option value=\"\" disabled>Select subject</option>\n\t\t\t\t\t\t\t\t{this.state.subjects.map(subject => <option key={subject.id} value={subject.id}>{subject.name}</option>)}\n\t\t\t\t\t\t\t</Input>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<Label for=\"studentId\">Students</Label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t\t<Input value={this.state.groupData.studentId} onChange={e => this.collectState('studentId', e.target.value)} type=\"select\" name=\"studentId\" id=\"studentId\" placeholder=\"Students\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled>Select student</option>\n\t\t\t\t\t\t\t\t\t\t{this.state.students.filter(student => !student.selected).map(student => <option key={student.id} value={student.id}>{student.name + ' ' + student.surname}</option>)}\n\t\t\t\t\t\t\t\t\t</Input>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-2 text-right\">\n\t\t\t\t\t\t\t\t\t<Button color=\"success\" onClick={this.selectStudent}>Add</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t{this.state.students.filter(student => student.selected).map(student => (\n\t\t\t\t\t\t\t\t<ListGroupItem key={student.id}>\n\t\t\t\t\t\t\t\t\t{student.name + ' ' + student.surname}\n\t\t\t\t\t\t\t\t\t<Badge onClick={() => {this.deselectStudent(student.id)}} color=\"danger\" className=\"float-right delete-icon\">X</Badge>\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t\t\t\t\t<Label for=\"dayId\">Week days</Label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-10\">\n\t\t\t\t\t\t\t\t\t<Input value={this.state.groupData.dayId} onChange={e => this.collectState('dayId', e.target.value)} type=\"select\" name=\"dayId\" id=\"dayId\" placeholder=\"Week days\">\n\t\t\t\t\t\t\t\t\t\t<option value=\"\" disabled>Select day</option>\n\t\t\t\t\t\t\t\t\t\t{this.state.weekDays.filter(day => !day.selected).map(day => <option key={day.id} value={day.id}>{day.name}</option>)}\n\t\t\t\t\t\t\t\t\t</Input>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"col-2 text-right\">\n\t\t\t\t\t\t\t\t\t<Button color=\"success\" onClick={this.selectDay}>Add</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t{this.state.weekDays.filter(day => day.selected).map(day => (\n\t\t\t\t\t\t\t\t<ListGroupItem key={day.id}>\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\n\t\t\t\t\t\t\t\t\t\t\t{day.name}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-2\">\n\t\t\t\t\t\t\t\t\t\t\t<InputMask defaultValue={day.startsAt} innerRef={element => day.startTimeElement = element} mask=\"99:99\" maskChar=\" \">\n\t\t\t\t\t\t\t\t\t\t\t\t{(props) => <Input {...props} type=\"text\" name=\"startsAt\" id=\"startsAt\"/>}\n\t\t\t\t\t\t\t\t\t\t\t</InputMask>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t<Badge onClick={() => {this.deselectDay(day.id)}} color=\"danger\" className=\"float-right delete-icon\">X</Badge>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Form>\n\t\t\t\t</ModalBody>\n\t\t\t\t<ModalFooter>\n\t\t\t\t\t<Button color=\"primary\" onClick={() => {this.state.selectedGroup ? this.saveChanges() : this.addGroup()}}>{this.state.selectedGroup ? 'Save changes' : 'Add group'}</Button>{' '}\n\t\t\t\t\t{this.state.selectedGroup && <Button color=\"danger\" onClick={(e) => {this.toggleConfirm(e, 'Are you sure you want to delete this group', 'DELETE_USER');}}>Delete</Button>}\n\t\t\t\t\t<Button color=\"secondary\" onClick={this.toggleForm}>Cancel</Button>\n\t\t\t\t</ModalFooter>\n\t\t\t</Modal>\n\t\t\t<Alert toggle={this.toggleAlert} isOpen={this.state.alert.isOpen} message={this.state.alert.message} title={this.state.alert.title} />\n\t\t\t<Confirm toggle={this.toggleConfirm} isOpen={this.state.confirm.isOpen} message={this.state.confirm.message} title={this.state.confirm.title} confirm={this.confirm} />\n\t\t</React.Fragment>\n\t}\n\t\n\tcollectData() {\n\t\tconst missedField = this.fields.find(field => !this.state.groupData[field] && field !== 'studentId' && field !== 'dayId');\n\t\t\n\t\tif(missedField) {\n\t\t\tthis.toggleAlert(null, `${missedField.replace('user', 'teacher').replace(/id/i, '').replace(/^./, l => l.toUpperCase())} is required`);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconst selectedStudents = this.state.students.filter(student => student.selected);\n\t\t\n\t\tif(!selectedStudents.length) {\n\t\t\tthis.toggleAlert(null, 'Please select at least one student');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconst selectedWeekDays = this.state.weekDays.filter(day => day.selected);\n\t\t\n\t\tif(!selectedWeekDays.length) {\n\t\t\tthis.toggleAlert(null, 'Please select at least one week day');\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconst isTimesIncorrect = selectedWeekDays.some(day => {\n\t\t\tif(!isTimeValid(day.startTimeElement.value)) {\n\t\t\t\tthis.toggleAlert(null, `Please input valid time format for ${day.name.toLowerCase()}`);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tday.startsAt = day.startTimeElement.value;\n\t\t\treturn false;\n\t\t});\n\t\t\n\t\tif(isTimesIncorrect) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconst result = {\n\t\t\t...this.state.groupData,\n\t\t\tstudents: selectedStudents.map(student => student.id),\n\t\t\tdays: selectedWeekDays.map(day => ({\n\t\t\t\tweekDay: day.id,\n\t\t\t\tstartsAt: day.startsAt\n\t\t\t}))\n\t\t};\n\t\t\n\t\t\n\t\t['studentId', 'dayId'].forEach(field => delete result[field]);\n\t\t\n\t\treturn result;\n\t}\n\t\n\tcollectState(key, value) {\n\t\tthis.setState((prevState) => ({\n\t\t\tgroupData: Object.assign(prevState.groupData, {[key]: value})\n\t\t}));\n\t}\n}","import React from 'react';\nimport './timeTable.css';\n\nimport { Table, Form, FormGroup, Label, Input } from 'reactstrap';\n\n// models\nimport DateModel from '../../models/dateTime';\nimport GroupsModel from \"../../models/groups\";\nimport UsersModel from '../../models/users';\nimport SubjectsModel from '../../models/subjects';\n\n// helpers\nimport InputMask from 'react-input-mask';\nimport { copyObject, isTimeValid, compareTimes } from \"../../libs/helpers\";\n\nexport default class TimeTable extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tweekDays: [],\n\t\t\tgroupsData: [],\n\t\t\tusers: [],\n\t\t\tsubjects: [],\n\t\t\tuserId: '',\n\t\t\tsubjectId: '',\n\t\t\tweekDayId: '',\n\t\t\tstartsAt: '',\n\t\t\tendsAt: ''\n\t\t};\n\t\t\n\t\tthis.init();\n\t}\n\t\n\tinit() {\n\t\tPromise.all([\n\t\t\tDateModel.getWeekDays(),\n\t\t\tGroupsModel.getGroupsData(),\n\t\t\tUsersModel.getUsers(),\n\t\t\tSubjectsModel.getSubjects()\n\t\t]).then(response => {\n\t\t\tconst [weekDays, groupsData, users, subjects] = response;\n\t\t\t\n\t\t\tthis.setState({\n\t\t\t\tweekDays, groupsData, users, subjects\n\t\t\t});\n\t\t});\n\t}\n\t\n\trender () {\n\t\tconst groupsData = copyObject(this.state.groupsData).filter(user => {\n\t\t\tif(!this.state.userId || Number(user.id) === Number(this.state.userId)) {\n\t\t\t\tuser.subjects = user.subjects.filter(subject => {\n\t\t\t\t\tif(!this.state.subjectId || Number(subject.id) === Number(this.state.subjectId)) {\n\t\t\t\t\t\tsubject.groups = subject.groups.filter(group => {\n\t\t\t\t\t\t\treturn group.days.some(day => (\n\t\t\t\t\t\t\t\t(!this.state.weekDayId || Number(day.id) === Number(this.state.weekDayId)) &&\n\t\t\t\t\t\t\t\t(!this.state.startsAt || !isTimeValid(this.state.startsAt) || compareTimes(day.startsAt, this.state.startsAt) >= 0) &&\n\t\t\t\t\t\t\t\t(!this.state.endsAt || !isTimeValid(this.state.endsAt) || compareTimes(+day.startsAt.substr(0, 2) + 2 + day.startsAt.substr(2), this.state.endsAt) <= 0)\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn subject.groups.length;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn user.subjects.length;\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t});\n\t\t\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Form inline>\n\t\t\t\t\t<FormGroup className=\"col-2 mb-2 mr-sm-2 mb-sm-0\">\n\t\t\t\t\t\t<Label for=\"userId\" className=\"mr-sm-2\">Teacher</Label>\n\t\t\t\t\t\t<Input onChange={(e) => this.changeState('userId', e.target.value)} type=\"select\" id=\"userId\" value={this.state.userId}>\n\t\t\t\t\t\t\t<option value=\"\">Not selected</option>\n\t\t\t\t\t\t\t{this.state.users.map(user => (\n\t\t\t\t\t\t\t\t<option value={user.id} key={user.id}>{user.name + ' ' + user.surname}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Input>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup className=\"col-2 mb-2 mr-sm-2 mb-sm-0\">\n\t\t\t\t\t\t<Label for=\"subjectId\" className=\"mr-sm-2\">Subject</Label>\n\t\t\t\t\t\t<Input onChange={(e) => this.changeState('subjectId', e.target.value)} type=\"select\" id=\"subjectId\" value={this.state.subjectId}>\n\t\t\t\t\t\t\t<option value=\"\">Not selected</option>\n\t\t\t\t\t\t\t{this.state.subjects.map(subject => (\n\t\t\t\t\t\t\t\t<option value={subject.id} key={subject.id}>{subject.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Input>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup className=\"col-2 mb-2 mr-sm-2 mb-sm-0\">\n\t\t\t\t\t\t<Label for=\"weekDayId\" className=\"mr-sm-2\">Week day</Label>\n\t\t\t\t\t\t<Input onChange={(e) => this.changeState('weekDayId', e.target.value)} type=\"select\" id=\"weekDayId\" value={this.state.weekDayId}>\n\t\t\t\t\t\t\t<option value=\"\">Not selected</option>\n\t\t\t\t\t\t\t{this.state.weekDays.map(day => (\n\t\t\t\t\t\t\t\t<option value={day.id} key={day.id}>{day.name}</option>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Input>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup className=\"col-2 mb-2 mr-sm-2 mb-sm-0\">\n\t\t\t\t\t\t<Label for=\"startsAt\" className=\"mr-sm-2\">Starts at</Label>\n\t\t\t\t\t\t<InputMask value={this.state.startsAt} onChange={e => this.changeState('startsAt', e.target.value)} mask=\"99:99\" maskChar=\" \">\n\t\t\t\t\t\t\t{(props) => <Input {...props} type=\"text\" name=\"startsAt\" id=\"startsAt\"/>}\n\t\t\t\t\t\t</InputMask>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<FormGroup className=\"col-2 mb-2 mr-sm-2 mb-sm-0\">\n\t\t\t\t\t\t<Label for=\"endsAt\" className=\"mr-sm-2\">Ends at</Label>\n\t\t\t\t\t\t<InputMask value={this.state.endsAt} onChange={e => this.changeState('endsAt', e.target.value)} mask=\"99:99\" maskChar=\" \">\n\t\t\t\t\t\t\t{(props) => <Input {...props} type=\"text\" name=\"endsAt\" id=\"endsAt\"/>}\n\t\t\t\t\t\t</InputMask>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t</Form>\n\t\t\t\t<hr/>\n\t\t\t\t{groupsData.map(user => (\n\t\t\t\t\t<React.Fragment key={user.id}>\n\t\t\t\t\t\t<h2>{user.name + ' ' + user.surname}</h2>\n\t\t\t\t\t\t{user.subjects.map(subject => (\n\t\t\t\t\t\t\t<Table key={subject.id} bordered>\n\t\t\t\t\t\t\t\t<caption>{subject.name}</caption>\n\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th>Group Name</th>\n\t\t\t\t\t\t\t\t\t<th>Students</th>\n\t\t\t\t\t\t\t\t\t<th>Phone</th>\n\t\t\t\t\t\t\t\t\t{this.state.weekDays.map(day => <th key={day.id}>{day.name}</th>)}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t{subject.groups.map(group => (\n\t\t\t\t\t\t\t\t\tgroup.students.map((student, i, arr) => (\n\t\t\t\t\t\t\t\t\t\t<tr key={student.id}>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t!i\n\t\t\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t\t\t<td rowSpan={arr.length}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{group.name}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t<td>{student.name} {student.surname}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>{student.phone}</td>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t!i\n\t\t\t\t\t\t\t\t\t\t\t\t&&\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.weekDays.map(day => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td rowSpan={arr.length} key={day.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroup.days.some(weekDay => weekDay.id === day.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroup.days.find(weekDay => weekDay.id === day.id).startsAt\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t))}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\t\n\tchangeState(key, value) {\n\t\tthis.setState({\n\t\t\t[key]: value\n\t\t});\n\t}\n}","// Components\nimport Home from '../components/home/home';\nimport Users from '../components/users/users';\nimport Students from '../components/students/students';\nimport Subjects from '../components/subjects/subjects';\nimport Groups from '../components/groups/groups';\nimport TimeTable from '../components/timeTable/timeTable';\n\nconst teacherRoutePaths = ['/home', '/timetable'];\n\nexport const baseUrl = 'https://colibri-training.herokuapp.com/api';\nexport const adminRoutes = [\n\t{\n\t\tpath: '/home', name: 'Home', component: Home\n\t},\n\t{\n\t\tpath: '/users', name: 'Users', component: Users\n\t},\n\t{\n\t\tpath: '/students', name: 'Students', component: Students\n\t},\n\t{\n\t\tpath: '/subjects', name: 'Subjects', component: Subjects\n\t},\n\t{\n\t\tpath: '/groups', name: 'Groups', component: Groups\n\t},\n\t{\n\t\tpath: '/timetable', name: 'Time table', component: TimeTable\n\t}\n];\n\nexport const STUDENTS_FILTERS = {\n\tACTIVE: 0,\n\tARCHIVED: 1,\n\tPENDING: 2,\n};\n\nexport const teacherRoutes = adminRoutes.filter(route => teacherRoutePaths.some(path => path === route.path));","import { baseUrl } from '../constants/constants';\nimport Http from './http';\nimport permission from '../constants/permissions.json';\n\nconst headers = {\n\t'Content-Type': 'application/json'\n};\n\nfunction getUserKey() {\n\treturn localStorage.getItem(\"token\");\n}\n\nfunction getUserPrivilege() {\n\treturn Number(localStorage.getItem(\"privilege\"));\n}\n\nexport function authHeader() {\n\treturn Object.assign({\n\t\tAuthorization: 'Basic ' + getUserKey()\n\t}, headers);\n}\n\nexport default class Users {\n\tstatic getUsers(config) {\n\t\tif(!config || typeof config !== 'object') {\n\t\t\tconfig = {};\n\t\t}\n\t\t\n\t\tconst keys = ['limit', 'offset'];\n\t\tlet data = {};\n\t\t\n\t\tkeys.forEach(key => {\n\t\t\tif(key in config) {\n\t\t\t\tdata[key] = config[key];\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/users`,\n\t\t\t\theaders: authHeader(),\n\t\t\t\tparams: data\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic getUser(id) {\n\t\tif(isNaN(id)) {\n\t\t\treturn Promise.reject({\n\t\t\t\t'message': 'Invalid id'\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/users/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(user => resolve(user), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic checkUser() {\n\t\tconst token = getUserKey();\n\t\t\n\t\tif(!token) {\n\t\t\treturn Promise.reject(null);\n\t\t}\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.get({\n\t\t\t\turl: `${baseUrl}/users/check`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic authUser(username, password) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tHttp.post({\n\t\t\t\turl: `${baseUrl}/users/auth`,\n\t\t\t\tbody: {\n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password\n\t\t\t\t},\n\t\t\t\theaders: headers\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t})\n\t}\n\t\n\tstatic setUser(user) {\n\t\tlocalStorage.setItem(\"token\", user.token || '');\n\t\tlocalStorage.setItem(\"privilege\", user.privilege);\n\t}\n\n\tstatic forgetUser() {\n\t\treturn Http.get({\n\t\t\turl: `${baseUrl}/users/logout`,\n\t\t\theaders: authHeader()\n\t\t}).then(() => localStorage.removeItem(\"token\"));\n\t}\n\t\n\tstatic addUser(data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tconst token = getUserKey();\n\t\t\t\n\t\t\tif(!token) {\n\t\t\t\treturn Promise.reject(null);\n\t\t\t}\n\t\t\t\n\t\t\tHttp.post({\n\t\t\t\turl: `${baseUrl}/users`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic editUser(id, data) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(typeof data !== 'object') {\n\t\t\t\tthrow new Error('Object required');\n\t\t\t}\n\t\t\t\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.put({\n\t\t\t\turl: `${baseUrl}/users/${id}`,\n\t\t\t\tbody: data,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic deleteUser(id) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(isNaN(id)) {\n\t\t\t\treturn Promise.reject({\n\t\t\t\t\t'message': 'Invalid id'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tHttp.delete({\n\t\t\t\turl: `${baseUrl}/users/${id}`,\n\t\t\t\theaders: authHeader()\n\t\t\t}).then(response => resolve(response), error => reject(error));\n\t\t});\n\t}\n\t\n\tstatic getHeaders(authorized = true) {\n\t\treturn authorized ? authHeader() : headers;\n\t}\n\t\n\tstatic isAdminAuthorized() {\n\t\treturn getUserPrivilege() === permission.ADMIN_PERMISSION;\n\t}\n}","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport './login.css';\n\n//Models\nimport Users from '../../models/users';\n\nexport default class Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tredirect: null\n\t\t};\n\t\t\n\t\tUsers.checkUser().then(() => {\n\t\t\tthis.setState({\n\t\t\t\tredirect: true\n\t\t\t});\n\t\t}, () => {\n\t\t\tthis.setState({\n\t\t\t\tredirect: false\n\t\t\t});\n\t\t});\n\t\t\n\t\tthis.logIn = this.logIn.bind(this);\n\t}\n\t\n\tlogIn(e) {\n\t\te.preventDefault();\n\t\tfor(let key in this.state) {\n\t\t\tif(key === 'redirect') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif(!this.state[key]) {\n\t\t\t\talert(`${key.replace(/^./, l => l.toUpperCase())} is missing`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tUsers.authUser(this.state.username, this.state.password).then(user => {\n\t\t\tUsers.setUser(user);\n\t\t\tthis.setState({\n\t\t\t\tredirect: true\n\t\t\t});\n\t\t});\n\t}\n\t\n\trender() {\n\t\tswitch (this.state.redirect) {\n\t\t\tcase null:\n\t\t\t\treturn null;\n\t\t\tcase true:\n\t\t\t\treturn <Redirect to='/home' />;\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<form onSubmit={this.logIn} className=\"auth\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<label><b>Username</b></label>\n\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"Enter Username\" onInput={(e) => this.setState({username: e.target.value})} required />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<label><b>Password</b></label>\n\t\t\t\t\t\t\t<input type=\"password\" placeholder=\"Enter Password\" onInput={(e) => this.setState({password: e.target.value})} required />\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<button type=\"submit\">Login</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t);\n\t\t}\n\t}\n}","import React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport './header.css';\n\nimport Users from \"../../../models/users\";\n\nimport { adminRoutes, teacherRoutes } from \"../../../constants/constants\";\n\nexport default class Header extends React.Component {\n\troutes = Users.isAdminAuthorized() ? adminRoutes : teacherRoutes;\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tredirect: false\n\t\t};\n\t\t\n\t\tthis.nav = null;\n\t\t\n\t\tthis.logOut = this.logOut.bind(this);\n\t}\n\n\tlogOut(event) {\n\t\tevent.preventDefault();\n\t\tUsers.forgetUser().then(() => {\n\t\t\tthis.setState({\n\t\t\t\tredirect: true\n\t\t\t});\n\t\t});\n\t}\n\n\trender() {\n\t\tif(this.state.redirect) {\n\t\t\treturn <Redirect to='/' />;\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<header className=\"header-fixed\">\n\t\t\t\t<div className=\"header-limiter text-left\">\n\t\t\t\t\t<Link to='/home'>\n\t\t\t\t\t\t<img className=\"logo\" src=\"/img/logo.png\" alt=\"Logo\"/>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<nav ref={this.nav}>\n\t\t\t\t\t\t{this.routes.map(route => {\n\t\t\t\t\t\t\treturn <Link key={route.path} to={route.path} className={this.props.path.includes(route.path) ? 'selected' : null}>{route.name}</Link>;\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t<a href='#' onClick={this.logOut}>Log out</a>\n\t\t\t\t\t</nav>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t);\n\t}\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport './main.css';\n\n//Components\nimport Login from '../login/login';\nimport Header from '../templates/header/header';\n\n//Models\nimport Users from '../../models/users';\n\n// Routes\nimport { adminRoutes } from \"../../constants/constants\";\n\nexport default class Main extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcomponent: null\n\t\t};\n\t\t\n\t\tUsers.checkUser().then(() => {\n\t\t\tthis.setState({\n\t\t\t\tcomponent: window.location.pathname === '/' ? <Redirect to='/home' /> : Main.renderMain()\n\t\t\t});\n\t\t}, () => {\n\t\t\tthis.setState({\n\t\t\t\tcomponent: window.location.pathname !== '/' ? <Redirect to='/' /> : Main.renderMain()\n\t\t\t});\n\t\t});\n\t}\n\t\n\trender() {\n\t\tconst component = this.state.component;\n\t\tthis.state.component = Main.renderMain();\n\t\t\n\t\treturn component;\n\t}\n\t\n\tstatic renderMain() {\n\t\tconst reactRoutes = adminRoutes.map(route => (\n\t\t\t<Route key={route.path} path={route.path} component={route.component} />\n\t\t));\n\t\t\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Route path='/' render={(props) => (\n\t\t\t\t\t!props.match.isExact\n\t\t\t\t\t\t? <Header path={props.location.pathname} />\n\t\t\t\t\t\t: <Login/>\n\t\t\t\t)}/>\n\t\t\t\t<main className=\"container\">\n\t\t\t\t\t{reactRoutes}\n\t\t\t\t</main>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Main from './components/main/main';\n\nconst App = () => (\n\t<Main/>\n);\n\nReactDOM.render((\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>\n), document.getElementById('root'));"],"sourceRoot":""}